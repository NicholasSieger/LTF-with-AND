We characterize the coefficients of the polynomial expansion of a function based on its support. Although seeimingly unmotivated, this characterization will help us in analysing the monomials of LTFs with respect to our proposed query algorithm.

Given a set $S\subseteq [n]$ let us define the set $E^f_S = \set{x\in \sup(f) \ | \ S_x \subseteq S \text{ and $\abs{S_x}$ is even} }$ and $O^f_S = \set{x\in \sup(f) \ | \ S_x \subseteq S \text{ and $\abs{S_x}$ is odd} }$ where $x$ is the characteristic vector of the set $S_v$. Given these notions, we can explicitly calculate the coefficients $\hat{a}[S]$ of the polynomial computing $f$ in terms of $E^f_S$ and $O^f_S$. 

\begin{definition}
	Let us define $\mathds{1}_x$ to be the identity multilinear polynomial that returns $1$ only for input $x$. Then the expansion for $\mathds{1}_x(y)$ is $$\mathds{1}_x(y) = \prod_{i \in S_x} y_i \prod_{j \in \bar{S}_x} (1 - y_j)$$
\end{definition}

We now propose the lemma that characterizes the coefficients. 

\begin{lemma}\label{lemma1}
	For any $S\subseteq [n]$ and function $f: \{0,1\}^n \rightarrow \{0,1\}$, the coefficients $\hat{a}[S]$ are given by 
    \[\hat{a}[S] = -1^{\abs{S}}(\order{E^f_S} - \order{O^f_S})\]
	\begin{proof}
		Every function can be written in terms of the indentity polynomial for each input. That is, $$f(y) = \sum_{x \in \{0, 1\}^n} f(y) \mathds{1}_x(y) = \sum_{x \ | \ f(x) = 1} \mathds{1}_x(y)$$

		We analyse the polynomial expansion for each $\mathds{1}_y(x)$. The expansion is given by the product $\prod_{j \in \bar{S}_y} (1 - x_j)$. The monomials formed by expanding this product correspond to selecting either $-x_j$ or $1$ from each term in the product. Hence we know that every monomial, denoted by a subset $A \subseteq \bar{S}_y$, must occur in the expansion. The coefficient of the monomial corresponding to the set $A \subseteq\bar{S}_y$ is $1$ if $\order{A}$ is even and $-1$ otherwise. Notice that the $\prod_{i \in S_y} x_i$ term exists in every monomial of the expansion of $\mathds{1}_y(x)$. Hence we know a monomial corresponding to some $S \subseteq [n]$ occurs in $\mathds{1}_y(x)$ only if $S_y \subseteq S$. Also notice that the coefficient of the monomial corresponding to $S \subseteq [n]$ in $\mathds{1}_y(x)$ is $1$ if $\order{S} - \order{S_y}$ is even and $-1$ otherwise. Hence, summing over all $\mathds{1}_y(x)$ for all $y \in \{0,1\}^n$ gives us the result. 

	\end{proof}
\end{lemma} 